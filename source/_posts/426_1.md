---
title: 按之字形顺序打印二叉树 
date: 2018-04-26 16:20:21
tags: [树]
categories: algorithm
---
# 题目描述
> 请实现一个函数按照之字形打印二叉树，即第一行按照从左到右的顺序打印，第二层按照从右至左的顺序打印，第三行按照从左到右的顺序打印，其他行以此类推。

# 代码
```java
public class TreeNode {
    int val = 0;
    TreeNode left = null;
    TreeNode right = null;

    public TreeNode(int val) {
        this.val = val;

    }
}
```
<!--more-->

```java
/*
* 队列LinkedList完成层序遍历，用end记录每层结点数目
*/
public class Solution {
    public ArrayList<ArrayList<Integer> > Print(TreeNode pRoot) {
        LinkedList<TreeNode> list = new LinkedList<>();
        ArrayList layer = new ArrayList();
        ArrayList<ArrayList<Integer>> last = new ArrayList<>();
        int start = 0;
        int end = 1;
        int count = 1;
        list.add(pRoot);
        
        if(pRoot == null){
            return last;
        }
        
        while(! list.isEmpty()){
            TreeNode t = list.remove();
            layer.add(t.val);
            start++;
            if(t.left != null){
                list.add(t.left);
            }
            if(t.right != null){
                list.add(t.right);
            }
            if(start == end){
                start = 0;
                end = list.size();
                if( count % 2 == 0){
                    Collections.reverse(layer);
                    last.add(layer);
                }else{
                    last.add(layer);
                }
                layer = new ArrayList();
                
                count++;
            }
        }
        return last;
    }
}
```
# 思路
这个一个层次遍历的应用，中间需要记录每一行的开始（start）和结束（end），来确定一层输出一行。

# 坑
1 我最开始的想法是每一个节点对应一个数字（行号）确定他是在哪一行，等到对应节点的行号与下一个节点不一样的时候，就换行。与上面的代码区别是多了一个ArrayList，记录好多不需要的信息，浪费了。

# 知识点
1 层次遍历
- 层次遍历，底层就是一个队列。算法思路是： 先将二叉树头节点入队列，然后出队列，访问该节点，如果它有左子树，则将左子树根节点入队，如果它有右子树，则将右子树根节点入队。然后出队列，对出队列节点访问，如此反复，直到队列为空为止。

# More
代码中是通过LinkedList模拟队列的，Java把队列，栈等数据结构封装的很好，但是最好还是要自己来理解实现一下这些底层。最近有看redis，里面很多操作的底层也是这些基础。
